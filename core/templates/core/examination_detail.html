{% extends 'core/base.html' %}

{% block content %}

    <h3>Пользователь {{ user_examination.user }}, тестирование {{ user_examination.examination }}</h3>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Начато</th>
                <th>Закончено</th>
                <th>Баллы</th>
            </tr>
        </thead>
    <tbody>

        <tr class="{{ user_examination.get_status_color }}">
            <td>
                {{ user_examination.started_at|default:'Не начато' }}
            </td>
            <td>
                {{ user_examination.finished_at|default:'Не закончено' }}
            </td>
            <td>
                {{ user_examination.points }}/100
            </td>
        </tr>

    </tbody>
    </table>

    <h3>Ответы пользователя</h3>

    {% for question in question_log %}
        <hr/>
    <h5>{{ question.question_data.body }}</h5>
        {% for answer in answer_log|get_by_key:question.id %}
            {{ answer.answer_data.body }} - <span style="color: {% if answer.answer_data.is_right %}green{% else %}red{% endif %}">{{ answer.answer_data.is_right|yesno:'правильный, не правильный' }}</span>
        {% empty %}
            <p>Ответ отсутствует</p>
        {% endfor %}

    {% endfor %}

{% endblock content %}